<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Basecamp's hill chart demo</title>
    <link rel="stylesheet" href="./demo.css" />
    <link rel="stylesheet" href="./dist/styles.css" />
  </head>
  <body class="text-primary">
    <!-- App -->
    <div id="app" class="background-primary h-full">
      <header
        class="sticky top-0 z-50 background-primary pb-1 sm:pb-3 opacity-100 shadow w-full px-2"
      >
        <!-- inner header -->
        <div class="flex justify-between items-center">
          <!-- logo -->
          <a href="#" class="flex items-center text-primary mt-1">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="fill-current h-6 sm:h-8"
              width="24"
              height="24"
              version="1.1"
              viewBox="0 0 24 24"
            >
              <path
                d="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z"
              />
            </svg>

            <span class="pl-1 font-bold hidden md:inline-block">Basecamp</span>
          </a>
          <!-- /logo -->

          <!-- nav menu -->
          <nav class="flex justify-between mt-2 sm:mt-3">
            <a
              href="#"
              class="flex flex-col md:flex-row text-primary font-semibold items-center text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                width="24"
                height="24"
                version="1.1"
                viewBox="0 0 24 24"
              >
                <path
                  d="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z"
                />
              </svg>
              <span class="sm:pl-1 text-xs sm:text-sm">Home</span>
            </a>

            <a
              href="#"
              class="flex flex-col md:flex-row pl-2 md:pl-5 text-primary font-semibold text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                viewBox="0 0 576 512"
              >
                <path
                  d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"
                />
              </svg>
              <span class="sm:ml-1 text-xs sm:text-sm">Chats</span>
            </a>

            <a
              href="#"
              class="flex flex-col md:flex-row pl-2 md:pl-5 text-primary font-semibold items-center text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                viewBox="0 0 24 24"
              >
                <path
                  d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 002 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                />
              </svg>
              <span class="text-xs sm:text-sm">Hey!</span>
            </a>

            <a
              href="#"
              class="flex flex-col md:flex-row pl-2 md:pl-5 text-primary font-semibold items-center text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                viewBox="0 0 24 24"
              >
                <path
                  d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"
                />
              </svg>
              <span class="sm:pl-1 text-xs sm:text-sm">Activity</span>
            </a>

            <a
              href="#"
              class="flex flex-col md:flex-row pl-2 md:pl-5 text-primary font-semibold items-center text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                viewBox="0 0 24 24"
              >
                <path
                  d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"
                />
              </svg>
              <span class="sm:pl-1 text-xs sm:text-sm">My Stuff</span>
            </a>

            <a
              href="#"
              class="flex flex-col md:flex-row pl-2 md:pl-5 text-primary font-semibold items-center text-sm md:text-base"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current h-4 md:h-5"
                viewBox="0 0 24 24"
              >
                <path
                  d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                />
              </svg>
              <span class="text-xs sm:text-sm">Find</span>
            </a>
          </nav>
          <!-- /nav menu -->

          <!-- avatar -->
          <a
            href="#"
            class="flex items-center text-primary text-sm md:text-base"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="fill-current h-6 md:h-8"
              viewBox="0 0 24 24"
            >
              <path
                d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"
              />
            </svg>
          </a>
          <!-- /avatar -->
        </div>
        <!-- inner header -->
      </header>

      <!-- inner App -->
      <main class="min-h-screen">
        <article
          class="inner-app relative flex flex-col justify-center items-center h-full w-full"
        >
          <!-- breadcrumbs -->
          <div
            class="absolute top-0 max-w-3xl border flex flex-col justify-center bg-white w-full h-12 mt-1 px-3 shadow-xl"
          >
            <div class="flex items-center justify-center space-x-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="fill-current text-gray-400 h-6 inline-block"
                version="1.1"
                viewBox="0 0 24 24"
              >
                <path
                  d="M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"
                />
              </svg>

              <div class="flex items-center">
                <a class="text-blue-700 underline font-semibold" href="#">
                  Boring Project
                </a>

                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 fill-gray-900"
                  version="1.1"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"
                  />
                </svg>
              </div>
            </div>
          </div>
          <!-- breadcrumbs -->

          <div
            class="relative panel border-2 border-gray-400 shadow-xl max-w-4xl flex flex-col justify-center bg-white w-full py-10 mt-12 px-3 h-full overflow-hidden min-h-screen"
          >
            <div class="w-full h-full md:py-5 sm:px-12 overflow-hidden">
              <div
                class="flex flex-col md:flex-row items-center justify-between md:border-b-2 border-black pb-4"
              >
                <!-- title -->

                <div class="flex items-center space-x-2 md:hidden">
                  <h1 class="text-3xl font-bold">To-dos</h1>

                  <span class="text-sm">1/100</span>
                </div>
                <div
                  class="w-full justify-center flex space-x-2 md:space-x-0 md:justify-between items-center mt-3"
                >
                  <!-- button -->
                  <button
                    class="flex items-center rounded-full py-2 px-3 bg-green-500 text-white text-sm space-x-1"
                    @click.prevent="showCreateList = true"
                  >
                    <a
                      href="https://github.com/nagi1/hill-chart"
                      class="tracking-tight font-bold text-base"
                      >Docs</a
                    >
                  </button>
                  <!-- title -->
                  <div class="flex items-center space-x-2 hidden md:flex">
                    <h1 class="text-3xl font-bold">To-dos</h1>

                    <span class="text-sm">1/100</span>
                  </div>

                  <!-- button -->
                  <a
                    class="flex items-center rounded-full py-2 px-3 bg-red-500 text-white text-sm space-x-1"
                    href="#"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="fill-current text-white h-5"
                      version="1.1"
                      viewBox="0 0 24 24"
                    >
                      <path d="M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z" />
                    </svg>
                    <span class="tracking-tight">Fire me</span>
                  </a>
                </div>
              </div>

              <div class="mt-10 flex justify-center space-y-5" id="canvas">
                <svg id="hill-chart" />
              </div>

              <div class="flex" style="margin-top: 1em">
                <button
                  class="flex items-center rounded-full py-2 px-3 bg-blue-500 text-white text-sm space-x-1"
                  style="margin-right: 1em"
                  id="replaceData"
                  @click.prevent="showCreateList = true"
                >
                  <a href="#" class="tracking-tight font-bold text-base"
                    >Replace Data</a
                  >
                </button>
                <button
                  class="flex items-center rounded-full py-2 px-3 bg-blue-500 text-white text-sm space-x-1"
                  id="darkMode"
                  @click.prevent="showCreateList = true"
                >
                  <a href="#" class="tracking-tight font-bold text-base"
                    >Dark Mode</a
                  >
                </button>
              </div>
            </div>
          </div>
        </article>
      </main>
      <!-- /inner App -->
    </div>
    <!-- /App -->

    <script src="./dist/d3.min.js"></script>
    <script src="./dist/hill-chart.nod3.umd.js"></script>
    <script type="text/javascript">
      const data = [
        {
          color: 'red',
          description: 'Late af task',
          size: 10,
          x: 12.069770990416055,
          y: 13.701965652222704, // optionally, provide a specific Y value
          link: '/fired.html',
        },

        {
          color: 'yellow',
          description: 'Gettin there',
          size: 10,
          x: 55.11627906976744,
        },
        {
          color: 'green',
          description: 'Hell yeah!',
          x: 93.48837209302326,
          size: 10,
        },
      ];

      const updatedData = [
        {
          color: 'red',
          description: 'Late af task',
          size: 10,
          x: 30,
          link: '/fired.html',
        },
        {
          color: 'yellow',
          description: 'Gettin there',
          size: 10,
          x: 60,
        },
        {
          color: 'green',
          description: 'Hell yeah!',
          x: 100,
          size: 10,
        },
        {
          color: 'blue',
          description: 'Forgot about Dre',
          size: 10,
          x: 50,
        },
      ];

      const options = {
        target: '#hill-chart',
        width: 700,
        height: 270,
        preview: false,
        footerText: {
          show: true,
          fontSize: 0.75, // rem
        },
      };

      function createAndRenderHill(data, options) {
        const hill = new HillChart(data, options);

        hill.on('home', (data) => {
          console.log(`Started Over:`);
          console.log(data);
        });

        hill.on('end', (data) => {
          console.log(`Finished Over:`);
          console.log(data);
        });

        hill.on('move', (x, y) => {
          console.log(`x: ${x}`);
          console.log(`y: ${y}`);
        });

        hill.on('moved', (data) => {
          console.log(`Point moved`);
          console.log(data);
        });

        return hill;
      }

      let hill = createAndRenderHill(data, options);
      hill.render();

      // Handle enable dark mode
      document.getElementById('darkMode').addEventListener('click', (e) => {
        e.preventDefault();

        // Reset the svg styling
        hill.svg.className = '';
        hill.svg.selectAll('*').remove();

        // Re-render the hill chart in dark mode
        const darkMode = e.target.innerText === 'Dark Mode' ? true : false;
        hill = createAndRenderHill(
          data,
          Object.assign({}, options, {
            darkMode,
            backgroundColor: darkMode,
          })
        );
        hill.render();

        // Change button text for toggle
        e.target.innerText = darkMode ? 'Light Mode' : 'Dark Mode';
      });

      document.getElementById('replaceData').addEventListener('click', (e) => {
        e.preventDefault();
        const reset = e.target.innerText.indexOf('Reset') > -1;

        // Variable dataset
        const dataset = reset ? data : updatedData;
        hill.replaceAndUpdate(dataset);

        // Change button text for toggle
        e.target.innerText = reset ? 'Replace Data' : 'Reset Data';
      });
    </script>
  </body>
</html>
